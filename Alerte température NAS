blueprint:
  name: Alerte tempÃ©rature NAS Synology
  description: Envoie une alerte si la tempÃ©rature du NAS dÃ©passe un seuil pendant une durÃ©e dÃ©finie.
  domain: automation
  input:
    temperature_sensor:
      name: Capteur tempÃ©rature NAS
      selector:
        entity:
          domain: sensor
    seuil_temperature:
      name: TempÃ©rature max (Â°C)
      default: 60
      selector:
        number:
          min: 30
          max: 90
          unit_of_measurement: 'Â°C'
          step: 1
    temps:
      name: DurÃ©e avant alerte (en minutes)
      default: 3
      selector:
        number:
          min: 1
          max: 30
          unit_of_measurement: 'min'
    notification_device:
      name: Appareil de notification
      selector:
        device:
          integration: mobile_app

trigger:
  - platform: numeric_state
    entity_id: !input temperature_sensor
    above: !input seuil_temperature
    for:
      minutes: !input temps

action:
  - device_id: !input notification_device
    domain: mobile_app
    type: notify
    message: >-
      ğŸŒ¡ï¸ La tempÃ©rature du NAS dÃ©passe {{ seuil_temperature }}â€¯Â°C depuis {{ temps }} minutes.
      VÃ©rifie le systÃ¨me de refroidissement !

mode: single
